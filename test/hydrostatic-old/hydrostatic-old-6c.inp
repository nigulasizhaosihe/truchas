FLUID/VOID 2D HYDROSTATIC TEST WITH MIXED CELLS
-----------------------------------------------
Inviscid fluid at rest in lower half of a [-5,5]^2 domain with void above,
subject to gravity. Fluid should remain at rest, with a linear pressure field.

With g=(0,-1,0): rho = 2, p = -2*y + 1, in y < 1/2; p = 0 in y > 1/2.

Fluid interface placed at cell midpoint.

Variations use rotated meshes (and rotated g)

&OUTPUTS
  output_t  = 0.0, 2.0
  output_dt = 2.0
/

&MESH
  mesh_file = 'mesh2-roty.gen'
/

&PHYSICS
  materials = 'water', 'VOID'
  legacy_flow = .true.
  body_force_density = 0.0, -1.0, 0.0
/

&NUMERICS
  dt_constant = 0.125
  discrete_ops_type           = 'ortho'
/

&LEGACY_FLOW
  inviscid   = .true.
  projection_linear_solution  = 'projection'
  body_force_face_method      = .true.
  courant_number              = 0.5
/

&LINEAR_SOLVER
  name = 'projection'
  method = 'fgmres'
  preconditioning_method = 'ssor'
  convergence_criterion = 1.0e-12
  relaxation_parameter = 1.4
  preconditioning_steps = 2
  maximum_iterations = 200
/

# FREE SLIP BC ALL AROUND

Lower half
&BODY
  surface_name = 'plane'
  axis = 'y'
  fill = 'outside'
  !rotation_angle = 0, -45, 0
  translation_pt = 0.0, 0.5, 0.0
  material_name = 'water'
  velocity = 3*0.0
  temperature = 0.0
/


upper half
&BODY
  surface_name = 'background'
  material_name = 'VOID'
  velocity = 3*0.0
  temperature = 0.0
/

&MATERIAL
  name = 'water'
  is_fluid = T
  density = 2.0
  specific_heat = 1.0
/
